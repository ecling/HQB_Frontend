!function(i){var t=function(t,e){var n=i.extend({},i.fn.nivoSlider.defaults,e),a={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},o=i(t);o.data("nivo:vars",a).addClass("nivoSlider");var r=o.children();r.each(function(){var t=i(this),e="";t.is("img")||(t.is("a")&&(t.addClass("nivo-imageLink"),e=t),t=t.find("img:first"));var n=0===n?t.attr("width"):t.width(),o=0===o?t.attr("height"):t.height();""!==e&&e.css("display","none"),t.css("display","none"),a.totalSlides++});var s=function(i){""===i.attr("src")&&(i.attr("src",i.attr("data-src")),i.load(function(){}))};n.randomStart&&(n.startSlide=Math.floor(Math.random()*a.totalSlides)),n.startSlide>0&&(n.startSlide>=a.totalSlides&&(n.startSlide=a.totalSlides-1),a.currentSlide=n.startSlide),i(r[a.currentSlide]).is("img")?a.currentImage=i(r[a.currentSlide]):(a.currentImage=i(r[a.currentSlide]).find("img:first"),s(a.currentImage)),i(r[a.currentSlide]).is("a")&&i(r[a.currentSlide]).css("display","block");var c=i("<img/>").addClass("nivo-main-image");c.attr("src",a.currentImage.attr("src")).show(),o.append(c),i(window).resize(function(){o.children("img").width(o.width()),c.attr("src",a.currentImage.attr("src")),c.stop().height("auto"),i(".nivo-slice").remove(),i(".nivo-box").remove()}),o.append(i('<div class="nivo-caption"></div>'));var l=function(t){var e=i(".nivo-caption",o);if(""!=a.currentImage.attr("title")&&void 0!=a.currentImage.attr("title")){var n=a.currentImage.attr("title");"#"==n.substr(0,1)&&(n=i(n).html()),"block"==e.css("display")?setTimeout(function(){e.html(n)},t.animSpeed):(e.html(n),e.stop().fadeIn(t.animSpeed))}else e.stop().fadeOut(t.animSpeed)};l(n);var d=0;if(!n.manualAdvance&&r.length>1&&(d=setInterval(function(){p(o,r,n,!1)},n.pauseTime)),n.directionNav&&(o.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+n.prevText+'</a><a class="nivo-nextNav">'+n.nextText+"</a></div>"),i(o).on("click","a.nivo-prevNav",function(){return a.running?!1:(clearInterval(d),d="",a.currentSlide-=2,void p(o,r,n,"prev"))}),i(o).on("click","a.nivo-nextNav",function(){return a.running?!1:(clearInterval(d),d="",void p(o,r,n,"next"))})),n.controlNav){a.controlNavEl=i('<div class="nivo-controlNav"></div>'),o.append(a.controlNavEl);for(var v=0;v<r.length;v++)if(n.controlNavThumbs){a.controlNavEl.addClass("nivo-thumbs-enabled");var m=r.eq(v);m.is("img")||(m=m.find("img:first")),m.attr("data-thumb")&&a.controlNavEl.append('<a class="nivo-control" rel="'+v+'"><img src="'+m.attr("data-thumb")+'" alt="" /></a>')}else a.controlNavEl.append('<a class="nivo-control" rel="'+v+'">'+(v+1)+"</a>");i("a:eq("+a.currentSlide+")",a.controlNavEl).addClass("active"),i("a",a.controlNavEl).bind("click",function(){return a.running?!1:i(this).hasClass("active")?!1:(clearInterval(d),d="",c.attr("src",a.currentImage.attr("src")),a.currentSlide=i(this).attr("rel")-1,void p(o,r,n,"control"))})}n.pauseOnHover&&o.hover(function(){a.paused=!0,clearInterval(d),d=""},function(){a.paused=!1,""!==d||n.manualAdvance||(d=setInterval(function(){p(o,r,n,!1)},n.pauseTime))}),o.bind("nivo:animFinished",function(){c.attr("src",a.currentImage.attr("src")),a.running=!1,i(r).each(function(){i(this).is("a")&&i(this).css("display","none")}),i(r[a.currentSlide]).is("a")&&i(r[a.currentSlide]).css("display","block"),""!==d||a.paused||n.manualAdvance||(d=setInterval(function(){p(o,r,n,!1)},n.pauseTime)),n.afterChange.call(this)});var u=function(t,e,n){i(n.currentImage).parent().is("a")&&i(n.currentImage).parent().css("display","block"),i('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();for(var a=i('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().is("a")?i('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().height():i('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height(),o=0;o<e.slices;o++){var r=Math.round(t.width()/e.slices);o===e.slices-1?t.append(i('<div class="nivo-slice" name="'+o+'"><img src="'+n.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(r+o*r-r)+'px;" /></div>').css({left:r*o+"px",width:t.width()-r*o+"px",height:a+"px",opacity:"0",overflow:"hidden"})):t.append(i('<div class="nivo-slice" name="'+o+'"><img src="'+n.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(r+o*r-r)+'px;" /></div>').css({left:r*o+"px",width:r+"px",height:a+"px",opacity:"0",overflow:"hidden"}))}i(".nivo-slice",t).height(a),c.stop().animate({height:i(n.currentImage).height()},e.animSpeed)},h=function(t,e,n){i(n.currentImage).parent().is("a")&&i(n.currentImage).parent().css("display","block"),i('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();for(var a=Math.round(t.width()/e.boxCols),o=Math.round(i('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height()/e.boxRows),r=0;r<e.boxRows;r++)for(var s=0;s<e.boxCols;s++)s===e.boxCols-1?(t.append(i('<div class="nivo-box" name="'+s+'" rel="'+r+'"><img src="'+n.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+o*r+"px; left:-"+a*s+'px;" /></div>').css({opacity:0,left:a*s+"px",top:o*r+"px",width:t.width()-a*s+"px"})),i('.nivo-box[name="'+s+'"]',t).height(i('.nivo-box[name="'+s+'"] img',t).height()+"px")):(t.append(i('<div class="nivo-box" name="'+s+'" rel="'+r+'"><img src="'+n.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+o*r+"px; left:-"+a*s+'px;" /></div>').css({opacity:0,left:a*s+"px",top:o*r+"px",width:a+"px"})),i('.nivo-box[name="'+s+'"]',t).height(i('.nivo-box[name="'+s+'"] img',t).height()+"px"));c.stop().animate({height:i(n.currentImage).height()},e.animSpeed)},p=function(t,e,n,a){var o=t.data("nivo:vars");if(o&&o.currentSlide===o.totalSlides-1&&n.lastSlide.call(this),(!o||o.stop)&&!a)return!1;n.beforeChange.call(this),a?("prev"===a&&c.attr("src",o.currentImage.attr("src")),"next"===a&&c.attr("src",o.currentImage.attr("src"))):c.attr("src",o.currentImage.attr("src")),o.currentSlide++,o.currentSlide===o.totalSlides&&(o.currentSlide=0,n.slideshowEnd.call(this)),o.currentSlide<0&&(o.currentSlide=o.totalSlides-1),i(e[o.currentSlide]).is("img")?o.currentImage=i(e[o.currentSlide]):(o.currentImage=i(e[o.currentSlide]).find("img:first"),s(o.currentImage)),n.controlNav&&(i("a",o.controlNavEl).removeClass("active"),i("a:eq("+o.currentSlide+")",o.controlNavEl).addClass("active")),l(n),i(".nivo-slice",t).remove(),i(".nivo-box",t).remove();var r=n.effect,d="";"random"===n.effect&&(d=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"),r=d[Math.floor(Math.random()*(d.length+1))],void 0===r&&(r="fade")),-1!==n.effect.indexOf(",")&&(d=n.effect.split(","),r=d[Math.floor(Math.random()*d.length)],void 0===r&&(r="fade")),o.currentImage.attr("data-transition")&&(r=o.currentImage.attr("data-transition")),o.running=!0;var v=0,m=0,p="",g="",x="",w="";if("sliceDown"===r||"sliceDownRight"===r||"sliceDownLeft"===r)u(t,n,o),v=0,m=0,p=i(".nivo-slice",t),"sliceDownLeft"===r&&(p=i(".nivo-slice",t)._reverse()),p.each(function(){var e=i(this);e.css({top:"0px"}),m===n.slices-1?setTimeout(function(){e.animate({opacity:"1.0"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+v):setTimeout(function(){e.animate({opacity:"1.0"},n.animSpeed)},100+v),v+=50,m++});else if("sliceUp"===r||"sliceUpRight"===r||"sliceUpLeft"===r)u(t,n,o),v=0,m=0,p=i(".nivo-slice",t),"sliceUpLeft"===r&&(p=i(".nivo-slice",t)._reverse()),p.each(function(){var e=i(this);e.css({bottom:"0px"}),m===n.slices-1?setTimeout(function(){e.animate({opacity:"1.0"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+v):setTimeout(function(){e.animate({opacity:"1.0"},n.animSpeed)},100+v),v+=50,m++});else if("sliceUpDown"===r||"sliceUpDownRight"===r||"sliceUpDownLeft"===r){u(t,n,o),v=0,m=0;var S=0;p=i(".nivo-slice",t),"sliceUpDownLeft"===r&&(p=i(".nivo-slice",t)._reverse()),p.each(function(){var e=i(this);0===m?(e.css("top","0px"),m++):(e.css("bottom","0px"),m=0),S===n.slices-1?setTimeout(function(){e.animate({opacity:"1.0"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+v):setTimeout(function(){e.animate({opacity:"1.0"},n.animSpeed)},100+v),v+=50,S++})}else if("fold"===r)u(t,n,o),v=0,m=0,i(".nivo-slice",t).each(function(){var e=i(this),a=e.width();e.css({top:"0px",width:"0px"}),m===n.slices-1?setTimeout(function(){e.animate({width:a,opacity:"1.0"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+v):setTimeout(function(){e.animate({width:a,opacity:"1.0"},n.animSpeed)},100+v),v+=50,m++});else if("fade"===r)u(t,n,o),g=i(".nivo-slice:first",t),g.css({width:t.width()+"px"}),g.animate({opacity:"1.0"},2*n.animSpeed,"",function(){t.trigger("nivo:animFinished")});else if("slideInRight"===r)u(t,n,o),g=i(".nivo-slice:first",t),g.css({width:"0px",opacity:"1"}),g.animate({width:t.width()+"px"},2*n.animSpeed,"",function(){t.trigger("nivo:animFinished")});else if("slideInLeft"===r)u(t,n,o),g=i(".nivo-slice:first",t),g.css({width:"0px",opacity:"1",left:"",right:"0px"}),g.animate({width:t.width()+"px"},2*n.animSpeed,"",function(){g.css({left:"0px",right:""}),t.trigger("nivo:animFinished")});else if("boxRandom"===r)h(t,n,o),x=n.boxCols*n.boxRows,m=0,v=0,w=f(i(".nivo-box",t)),w.each(function(){var e=i(this);m===x-1?setTimeout(function(){e.animate({opacity:"1"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+v):setTimeout(function(){e.animate({opacity:"1"},n.animSpeed)},100+v),v+=20,m++});else if("boxRain"===r||"boxRainReverse"===r||"boxRainGrow"===r||"boxRainGrowReverse"===r){h(t,n,o),x=n.boxCols*n.boxRows,m=0,v=0;var b=0,I=0,y=[];y[b]=[],w=i(".nivo-box",t),("boxRainReverse"===r||"boxRainGrowReverse"===r)&&(w=i(".nivo-box",t)._reverse()),w.each(function(){y[b][I]=i(this),I++,I===n.boxCols&&(b++,I=0,y[b]=[])});for(var R=0;R<2*n.boxCols;R++){for(var N=R,T=0;T<n.boxRows;T++)N>=0&&N<n.boxCols&&(!function(e,a,o,s,c){var l=i(y[e][a]),d=l.width(),v=l.height();("boxRainGrow"===r||"boxRainGrowReverse"===r)&&l.width(0).height(0),s===c-1?setTimeout(function(){l.animate({opacity:"1",width:d,height:v},n.animSpeed/1.3,"",function(){t.trigger("nivo:animFinished")})},100+o):setTimeout(function(){l.animate({opacity:"1",width:d,height:v},n.animSpeed/1.3)},100+o)}(T,N,v,m,x),m++),N--;v+=100}}},f=function(i){for(var t,e,n=i.length;n;t=parseInt(Math.random()*n,10),e=i[--n],i[n]=i[t],i[t]=e);return i},g=function(i){this.console&&"undefined"!=typeof console.log&&console.log(i)};return this.stop=function(){i(t).data("nivo:vars").stop||(i(t).data("nivo:vars").stop=!0,g("Stop Slider"))},this.start=function(){i(t).data("nivo:vars").stop&&(i(t).data("nivo:vars").stop=!1,g("Start Slider"))},n.afterLoad.call(this),this};i.fn.nivoSlider=function(e){return this.each(function(n,a){var o=i(this);if(o.data("nivoslider"))return o.data("nivoslider");var r=new t(this,e);o.data("nivoslider",r)})},i.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"",nextText:"",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},i.fn._reverse=[].reverse}(jQuery);